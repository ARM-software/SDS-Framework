<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="group__SDS__Recorder__Player" kind="group">
    <compoundname>SDS_Recorder_Player</compoundname>
    <title>SDS Recorder and Player</title>
    <sectiondef kind="typedef">
      <memberdef kind="typedef" id="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" prot="public" static="no">
        <type>void *</type>
        <definition>typedef void* sdsRecPlayId_t</definition>
        <argsstring></argsstring>
        <name>sdsRecPlayId_t</name>
        <briefdescription>
<para>Handle to SDS Recorder/Player stream. </para>
        </briefdescription>
        <detaileddescription>
<para>This <emphasis>pointer</emphasis> defines the handle to SDS recorder or player stream. It is used to identify a data stream across the different functions for the SDS Recorder and Player system. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sds/include/sds_rec_play.h" line="31" column="14" bodyfile="sds/include/sds_rec_play.h" bodystart="31" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="group__SDS__Recorder__Player_1gac8362dbc509cb878fa330da3a80ee044" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int32_t</type>
        <definition>int32_t sdsRecPlayInit</definition>
        <argsstring>(sdsRecPlayEvent_t event_cb)</argsstring>
        <name>sdsRecPlayInit</name>
        <param>
          <type>sdsRecPlayEvent_t</type>
          <declname>event_cb</declname>
        </param>
        <briefdescription>
<para>Initialize recorder and player. </para>
        </briefdescription>
        <detaileddescription>
<para>Initializes the SDS Recorder and Player system. This function allocates resources, initializes underlying SDS I/O interface and starts the <computeroutput>sdsRecPlayThread</computeroutput> worker thread. An optional callback function can be registered to receive notifications (e.g., I/O errors). This function must be called once before any recorder or player streams are opened.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">event_cb</parametername>
</parameternamelist>
<parameterdescription>
<para>pointer to sdsRecPlayEvent_t callback function </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>return code </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sds/include/sds_rec_play.h" line="55" column="9" declfile="sds/include/sds_rec_play.h" declline="55" declcolumn="9"/>
      </memberdef>
      <memberdef kind="function" id="group__SDS__Recorder__Player_1ga7e78ce16473390833db5ed3e6efb8cf1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int32_t</type>
        <definition>int32_t sdsRecPlayUninit</definition>
        <argsstring>(void)</argsstring>
        <name>sdsRecPlayUninit</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Uninitialize recorder and player. </para>
        </briefdescription>
        <detaileddescription>
<para>De-initializes the SDS Recorder and Player system. The <computeroutput>sdsRecPlayThread</computeroutput> worker thread is stopped, and internal resources are released. All open recorder or player streams must be closed by the user before calling this function. Once uninitialized, the system must be initialized again before use.</para>
<para><simplesect kind="return"><para>return code </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sds/include/sds_rec_play.h" line="62" column="9" declfile="sds/include/sds_rec_play.h" declline="62" declcolumn="9"/>
      </memberdef>
      <memberdef kind="function" id="group__SDS__Recorder__Player_1ga23cdde344f40bcc5d06931473bb8b719" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" kindref="member">sdsRecPlayId_t</ref></type>
        <definition>sdsRecPlayId_t sdsRecOpen</definition>
        <argsstring>(const char *name, void *buf, uint32_t buf_size)</argsstring>
        <name>sdsRecOpen</name>
        <param>
          <type>const char *</type>
          <declname>name</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>buf</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>buf_size</declname>
        </param>
        <briefdescription>
<para>Open recorder stream (write mode). </para>
        </briefdescription>
        <detaileddescription>
<para>Opens a recorder stream for writing timestamps and data blocks to the SDS file. The <computeroutput>buf</computeroutput> parameter specifies a user-allocated memory region that serves as an internal circular buffer. The buffer size must be sufficient to accommodate at least the largest data block size plus 8 bytes for the record header.</para>
<para>The <computeroutput>name</computeroutput> parameter defines the base name for the SDS output file and is used to construct the file name in the format <computeroutput>name.index.sds</computeroutput>. The <computeroutput>index</computeroutput> is an auto-incrementing value that ensures a unique file name is generated. If a file with the specified name already exists, the <computeroutput>index</computeroutput> is incremented until a unique name is found.</para>
<para>This function returns a handle that uniquely identifies the stream. The handle is used as a reference in subsequent function calls to perform operations on the stream.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">name</parametername>
</parameternamelist>
<parameterdescription>
<para>stream name (pointer to NULL terminated string) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">buf</parametername>
</parameternamelist>
<parameterdescription>
<para>pointer to buffer for recorder stream </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">buf_size</parametername>
</parameternamelist>
<parameterdescription>
<para>buffer size in bytes </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><ref refid="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" kindref="member">sdsRecPlayId_t</ref> handle to SDS Recorder/Player stream or NULL if operation failed </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sds/include/sds_rec_play.h" line="72" column="16" declfile="sds/include/sds_rec_play.h" declline="72" declcolumn="16"/>
      </memberdef>
      <memberdef kind="function" id="group__SDS__Recorder__Player_1ga7b010ae467e0ad6cdfb97569da2597a1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int32_t</type>
        <definition>int32_t sdsRecClose</definition>
        <argsstring>(sdsRecPlayId_t id)</argsstring>
        <name>sdsRecClose</name>
        <param>
          <type><ref refid="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" kindref="member">sdsRecPlayId_t</ref></type>
          <declname>id</declname>
        </param>
        <briefdescription>
<para>Close recorder stream. </para>
        </briefdescription>
        <detaileddescription>
<para>Closes a recorder stream. Before closing, any data remaining in the internal circular buffer is written to the SDS file. The function waits until all transfers are completed or a timeout occurs. The stream handle becomes invalid after successful closing.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">id</parametername>
</parameternamelist>
<parameterdescription>
<para><ref refid="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" kindref="member">sdsRecPlayId_t</ref> handle to SDS Recorder/Player stream </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>return code </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sds/include/sds_rec_play.h" line="80" column="9" declfile="sds/include/sds_rec_play.h" declline="80" declcolumn="9"/>
      </memberdef>
      <memberdef kind="function" id="group__SDS__Recorder__Player_1gaf471bc66f840a8afb9a42a815ebf3d08" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint32_t</type>
        <definition>uint32_t sdsRecWrite</definition>
        <argsstring>(sdsRecPlayId_t id, uint32_t timestamp, const void *buf, uint32_t buf_size)</argsstring>
        <name>sdsRecWrite</name>
        <param>
          <type><ref refid="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" kindref="member">sdsRecPlayId_t</ref></type>
          <declname>id</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>timestamp</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>buf</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>buf_size</declname>
        </param>
        <briefdescription>
<para>Write entire data block along with its timestamp to the recorder stream. </para>
        </briefdescription>
        <detaileddescription>
<para>Writes a data block with header (timestamp and size of data block) to the internal circular buffer. The <computeroutput>sdsRecPlayThread</computeroutput> worker thread asynchronously reads the data from the internal circular buffer and writes it to the SDS file using the underlying SDS I/O interface. This approach ensures efficient, non-blocking data handling and optimal performance.</para>
<para>Before writing, the function ensures that the data block can fit into the internal buffer. If there is insufficient space, the operation is aborted, and the function returns 0.</para>
<para>On success, the function writes the header and data block to the stream buffer and returns the number of data bytes written (excluding the header).</para>
<para>Thread safety is maintained by allowing only one thread to write to an individual stream at a time. However, multiple threads can write to different streams concurrently, enabling parallel operations across multiple streams.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">id</parametername>
</parameternamelist>
<parameterdescription>
<para><ref refid="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" kindref="member">sdsRecPlayId_t</ref> handle to SDS Recorder/Player stream </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">timestamp</parametername>
</parameternamelist>
<parameterdescription>
<para>timestamp in ticks </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">buf</parametername>
</parameternamelist>
<parameterdescription>
<para>pointer to the data block buffer to be written </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">buf_size</parametername>
</parameternamelist>
<parameterdescription>
<para>size of the data block buffer in bytes </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>size of the entire data block written in bytes if the operation is successful, or 0 if the entire data block could not be written successfully </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sds/include/sds_rec_play.h" line="92" column="10" declfile="sds/include/sds_rec_play.h" declline="92" declcolumn="10"/>
      </memberdef>
      <memberdef kind="function" id="group__SDS__Recorder__Player_1ga22965fa58400c58e13376134bf1eafa8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" kindref="member">sdsRecPlayId_t</ref></type>
        <definition>sdsRecPlayId_t sdsPlayOpen</definition>
        <argsstring>(const char *name, void *buf, uint32_t buf_size)</argsstring>
        <name>sdsPlayOpen</name>
        <param>
          <type>const char *</type>
          <declname>name</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>buf</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>buf_size</declname>
        </param>
        <briefdescription>
<para>Open player stream (read mode). </para>
        </briefdescription>
        <detaileddescription>
<para>Opens a player stream for reading timestamp and data blocks from the SDS file. The <computeroutput>buf</computeroutput> parameter specifies a user-allocated memory region that serves as an internal circular buffer. The buffer size must be sufficient to accommodate at least the largest data block size plus 8 bytes for the record header.</para>
<para>The <computeroutput>name</computeroutput> parameter specifies the base name of the SDS input file. The function attempts to locate and open the file <computeroutput>&lt;name&gt;.&lt;index&gt;.sds</computeroutput>, where <computeroutput>&lt;index&gt;</computeroutput> is an auto-incrementing value. If no matching file is found, the function returns an error.</para>
<para>Note that this function can be blocking for some time as it initially fills the internal circular buffer with data from the SDS file.</para>
<para>This function returns a handle that uniquely identifies the stream. The handle is used as a reference in subsequent function calls to perform operations on the stream.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">name</parametername>
</parameternamelist>
<parameterdescription>
<para>stream name (pointer to NULL terminated string) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">buf</parametername>
</parameternamelist>
<parameterdescription>
<para>pointer to buffer for player stream </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">buf_size</parametername>
</parameternamelist>
<parameterdescription>
<para>buffer size in bytes </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><ref refid="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" kindref="member">sdsRecPlayId_t</ref> handle to SDS Recorder/Player stream or NULL if operation failed </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sds/include/sds_rec_play.h" line="102" column="16" declfile="sds/include/sds_rec_play.h" declline="102" declcolumn="16"/>
      </memberdef>
      <memberdef kind="function" id="group__SDS__Recorder__Player_1gabaef35fad3049663a108750c2561e8ca" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int32_t</type>
        <definition>int32_t sdsPlayClose</definition>
        <argsstring>(sdsRecPlayId_t id)</argsstring>
        <name>sdsPlayClose</name>
        <param>
          <type><ref refid="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" kindref="member">sdsRecPlayId_t</ref></type>
          <declname>id</declname>
        </param>
        <briefdescription>
<para>Close player stream. </para>
        </briefdescription>
        <detaileddescription>
<para>Closes a player stream. The function waits until all transfers are completed or a timeout occurs. The stream handle becomes invalid after successful closing.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">id</parametername>
</parameternamelist>
<parameterdescription>
<para><ref refid="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" kindref="member">sdsRecPlayId_t</ref> handle to SDS Recorder/Player stream </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>return code </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sds/include/sds_rec_play.h" line="110" column="9" declfile="sds/include/sds_rec_play.h" declline="110" declcolumn="9"/>
      </memberdef>
      <memberdef kind="function" id="group__SDS__Recorder__Player_1ga54e9e5bcf496baff9618148dd2873196" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint32_t</type>
        <definition>uint32_t sdsPlayRead</definition>
        <argsstring>(sdsRecPlayId_t id, uint32_t *timestamp, void *buf, uint32_t buf_size)</argsstring>
        <name>sdsPlayRead</name>
        <param>
          <type><ref refid="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" kindref="member">sdsRecPlayId_t</ref></type>
          <declname>id</declname>
        </param>
        <param>
          <type>uint32_t *</type>
          <declname>timestamp</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>buf</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>buf_size</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Reads a data block along with its associated timestamp from the internal circular buffer. The <computeroutput>sdsRecPlayThread</computeroutput> worker thread asynchronously reads the data from the SDS file using the underlying SDS I/O interface and writes it to the internal circular buffer. This approach ensures efficient, non-blocking data handling and optimal performance.</para>
<para>Before reading, the function verifies that the user-provided buffer has sufficient space to accommodate the entire data block. If the buffer size is insufficient, the operation is aborted, and the function returns 0. Additionally, if the end-of-stream condition is reached, the function also returns 0. Therefore, it is necessary to call <computeroutput>sdsPlayEndOfStream</computeroutput> to identify whether the end-of-stream condition has been met.</para>
<para>On success, the function reads the data block from the stream buffer, stores it in the user-provided buffer, and returns the number of bytes in the data block. Additionally, the timestamp associated with the data block is provided in the output parameter <computeroutput>timestamp</computeroutput>.</para>
<para>Thread safety is maintained by allowing only one thread to read from an individual stream at a time. However, multiple threads can read from different streams concurrently, enabling parallel operations across multiple streams.</para>
<para>/** </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sds/include/sds_rec_play.h" line="121" column="10" declfile="sds/include/sds_rec_play.h" declline="121" declcolumn="10"/>
      </memberdef>
      <memberdef kind="function" id="group__SDS__Recorder__Player_1ga9cb0e3535a39c152c08c77de9aae4a91" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint32_t</type>
        <definition>uint32_t sdsPlayGetSize</definition>
        <argsstring>(sdsRecPlayId_t id)</argsstring>
        <name>sdsPlayGetSize</name>
        <param>
          <type><ref refid="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" kindref="member">sdsRecPlayId_t</ref></type>
          <declname>id</declname>
        </param>
        <briefdescription>
<para>Get data block size from Player stream. </para>
        </briefdescription>
        <detaileddescription>
<para>Returns the size of the next available data block in the player stream.</para>
<para>The function reads the record header to determine the size of the next data block. If no valid record header is available the function returns 0.</para>
<para>This function is thread-safe when used with different streams in separate threads. However, accessing the same stream from multiple threads simultaneously is not supported.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">id</parametername>
</parameternamelist>
<parameterdescription>
<para><ref refid="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" kindref="member">sdsRecPlayId_t</ref> handle to SDS Recorder/Player stream </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>number of bytes in data block </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sds/include/sds_rec_play.h" line="129" column="10" declfile="sds/include/sds_rec_play.h" declline="129" declcolumn="10"/>
      </memberdef>
      <memberdef kind="function" id="group__SDS__Recorder__Player_1ga36439d56d9e3fa250b1fc41504fb87fb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int32_t</type>
        <definition>int32_t sdsPlayEndOfStream</definition>
        <argsstring>(sdsRecPlayId_t id)</argsstring>
        <name>sdsPlayEndOfStream</name>
        <param>
          <type><ref refid="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" kindref="member">sdsRecPlayId_t</ref></type>
          <declname>id</declname>
        </param>
        <briefdescription>
<para>Check if end of stream has been reached. </para>
        </briefdescription>
        <detaileddescription>
<para>Checks whether the player stream has reached the end of the SDS file. This condition is met when the SDS file signals end-of-stream and all buffered data has been read.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">id</parametername>
</parameternamelist>
<parameterdescription>
<para><ref refid="group__SDS__Recorder__Player_1ga91a6334159e31346891a3d21db5c5d37" kindref="member">sdsRecPlayId_t</ref> handle to SDS Recorder/Player stream </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>nonzero if end of stream, else 0 </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="sds/include/sds_rec_play.h" line="137" column="9" declfile="sds/include/sds_rec_play.h" declline="137" declcolumn="9"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para><ref refid="sds__rec__play_8h_source" kindref="compound">sds_rec_play.h</ref>: SDS Recorder and Player for writing and reading SDS files via communication or file I/O interface. </para>
    </briefdescription>
    <detaileddescription>
<para>via a communication stack, file system, or semihosting interface. Refer to the chapter SDS Interface for an overview. </para>
    </detaileddescription>
  </compounddef>
</doxygen>
