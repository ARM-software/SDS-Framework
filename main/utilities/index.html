<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Utilities - SDS-Framework</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Utilities";
        var mkdocs_page_input_path = "utilities.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> SDS-Framework
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../overview/">Overview</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../theory/">Theory of Operation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../sds_interface/">SDS Interface</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../examples/">Examples</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Utilities</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#sdsio-server">SDSIO-Server</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#socket-mode">Socket Mode</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#serial-mode">Serial Mode</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#sds-view">SDS-View</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#usage_1">Usage</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#sds-convert">SDS-Convert</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#usage_2">Usage</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#audio-wav">Audio WAV</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#simple-csv">Simple CSV</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#qeexo-v2-csv">Qeexo V2 CSV</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../SDS_API/modules.md">API Modules</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">SDS-Framework</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Utilities</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/ARM-software/SDS-Framework/edit/main/documentation/utilities.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="utilities">Utilities</h1>
<!-- markdownlint-disable MD013 -->
<!-- markdownlint-disable MD036 -->
<!-- markdownlint-disable MD024 -->

<p>The SDS-Framework includes the following utilities that are implemented in Python.</p>
<ul>
<li><a href="#sdsio-server"><strong>SDSIO-Server:</strong></a> enables recording and playback of SDS data files via socket (TCP/IP) or serial (UART) connection.</li>
<li><a href="#sds-view"><strong>SDS-View:</strong></a> graphical data viewer for SDS data files.</li>
<li><a href="#sds-convert"><strong>SDS-Convert:</strong></a> convert SDS data files into CSV, Qeexo V2 CSV, or WAV format.</li>
</ul>
<h2 id="sdsio-server">SDSIO-Server</h2>
<p>The Python utility <a href="https://github.com/ARM-software/SDS-Framework/tree/main/utilities/SDSIO-Server"><strong>SDSIO-Server</strong></a> enables recording and playback of SDS data files via socket (TCP/IP) or serial (UART) connection.
It communicates with the target using these <a href="https://github.com/ARM-software/SDS-Framework/tree/main/sds/source/sdsio">SDSIO interfaces</a>:</p>
<ul>
<li><a href="https://github.com/ARM-software/SDS-Framework/tree/main/sds/source/sdsio/serial/usart">serial/usart</a> for serial communication via CMSIS-Driver USART.</li>
<li><a href="https://github.com/ARM-software/SDS-Framework/tree/main/sds/source/sdsio/socket">socket</a> for TCP/IP communication using MDK-Middleware, LwIP, or CMSIS-Driver WiFi.</li>
<li><a href="https://github.com/ARM-software/SDS-Framework/tree/main/sds/source/sdsio/vcom/mdk">vcom/mdk</a> for serial communication via USB VCom using MDK-Middleware.</li>
</ul>
<p>The SDS data stream is recorded to files with the following naming convention:</p>
<p><code>&lt;name&gt;.&lt;index&gt;.sds</code></p>
<ul>
<li><code>&lt;name&gt;</code> is the name of the I/O stream specified with the function <code>sdsRecOpen</code> or <code>sdsPlayOpen</code> on the target.</li>
<li><code>&lt;index&gt;</code> is the zero-based index which is incremented for each subsequent recording.</li>
</ul>
<p>The data content of the <code>&lt;name&gt;.&lt;index&gt;.sds</code> is described with metadata file <code>&lt;name&gt;.sds.yml</code> in <a href="https://github.com/ARM-software/SDS-Framework/tree/main/schema">YAML format</a>.</p>
<h3 id="usage">Usage</h3>
<ul>
<li>Setup the Python-based <code>sdsio-server.py</code> tool as described in <a href="https://github.com/ARM-software/SDS-Framework/edit/main/utilities/SDSIO-Server/README.md">utilities/SDSIO-Server/README.md</a>.</li>
<li>Depending on the SDS interface used on the target use either <a href="#socket-mode">Socket Mode</a> or <a href="#serial-mode">Serial Mode</a> as described below.</li>
<li>The SDSIO_Server terminates with <code>Ctrl+C</code>.</li>
</ul>
<h4 id="socket-mode">Socket Mode</h4>
<pre><code class="language-txt">usage: sdsio-server.py socket [-h] [--ipaddr &lt;IP&gt; | --interface &lt;Interface&gt;] [--port &lt;TCP Port&gt;]
                              [--outdir &lt;Output dir&gt;]

options:
  -h, --help               show this help message and exit

optional:
  --ipaddr &lt;IP&gt;            Server IP address (not allowed with argument --interface)
  --interface &lt;Interface&gt;  Network interface (not allowed with argument --ipaddr)
  --port &lt;TCP Port&gt;        TCP port (default: 5050)
  --outdir &lt;Output dir&gt;    Output directory
</code></pre>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">python sdsio-server.py socket --interface eth0 --outdir ./out_dir
</code></pre>
<h4 id="serial-mode">Serial Mode</h4>
<pre><code class="language-txt">usage: sdsio-server.py serial [-h] -p &lt;Serial Port&gt; [--baudrate &lt;Baudrate&gt;] [--parity &lt;Parity&gt;] 
                              [--stopbits &lt;Stop bits&gt;] [--outdir &lt;Output dir&gt;]

options:
  -h, --help              show this help message and exit

required:
  -p &lt;Serial Port&gt;        Serial port

optional:
  --baudrate &lt;Baudrate&gt;   Baudrate (default: 115200)
  --parity &lt;Parity&gt;       Parity: N = None, E = Even, O = Odd, M = Mark, S = Space (default: N)
  --stopbits &lt;Stop bits&gt;  Stop bits: 1, 1.5, 2 (default: 1)
  --outdir &lt;Output dir&gt;   Output directory
</code></pre>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">python sdsio-server.py serial -p COM0 --baudrate 115200 --outdir ./out_dir
</code></pre>
<h2 id="sds-view">SDS-View</h2>
<p>The Python utility <a href="https://github.com/ARM-software/SDS-Framework/tree/main/utilities/SDS-View"><strong>SDSIO-View</strong></a> outputs a time-based plot of SDS data files (<code>&lt;name&gt;.&lt;index&gt;.sds</code>) based on the meta-data file (<code>&lt;name&gt;.sds.yml</code>.</p>
<p>The horizontal time scale is derived from the number of data points in a recording and frequency provided in the metadata description. All plots form a single recording will be displayed on the same figure (shared vertical scale).</p>
<p>If there are 3 values described in the metadata file, an optional 3D view may be displayed.  </p>
<h3 id="usage_1">Usage</h3>
<ul>
<li>Setup the Python-based <code>sds-view.py</code> tool as described in <a href="https://github.com/ARM-software/SDS-Framework/edit/main/utilities/SDS-View/README.md">utilities/SDS-View/README.md</a>.</li>
<li>Invoke the tool as explained below.</li>
</ul>
<pre><code class="language-txt">usage: sds-view.py [-h] -y &lt;yaml_file&gt; -s &lt;sds_file&gt; [&lt;sds_file&gt; ...] [--3D]

View SDS data

options:
  -h, --help                      show this help message and exit

required:
  -y &lt;yaml_file&gt;                  YAML sensor description file
  -s &lt;sds_file&gt; [&lt;sds_file&gt; ...]  SDS data recording file

optional:
  --3D                            Plot 3D view in addition to normal 2D
</code></pre>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">python sds-view.py -y test/Gyroscope.sds.yml -s test/Gyroscope.0.sds
</code></pre>
<h2 id="sds-convert">SDS-Convert</h2>
<p>The Python utility <a href="https://github.com/ARM-software/SDS-Framework/tree/main/utilities/SDS-Convert"><strong>SDSIO-Convert</strong></a> converts SDS data files to selected format based on description in metadata (YAML) files.  </p>
<h3 id="usage_2">Usage</h3>
<ul>
<li>Setup the Python-based <code>sds-convert.py</code> tool as described in <a href="https://github.com/ARM-software/SDS-Framework/edit/main/utilities/SDS-Convert/README.md">utilities/SDS-Convert/README.md</a>.</li>
<li>Depending on the required format use the tool as shown below.</li>
</ul>
<h4 id="audio-wav">Audio WAV</h4>
<pre><code class="language-txt">usage: sds-convert.py audio_wav [-h] -i &lt;input_file&gt; [&lt;input_file&gt; ...] -o &lt;output_file&gt; [-y &lt;yaml_file&gt; [&lt;yaml_file&gt; ...]]

options:
  -h, --help                          show this help message and exit

required:
  -i &lt;input_file&gt; [&lt;input_file&gt; ...]  Input file
  -o &lt;output_file&gt;                    Output file

optional:
  -y &lt;yaml_file&gt; [&lt;yaml_file&gt; ...]    YAML sensor description file
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The metadata and SDS data file pairs must be passed as arguments in the same order to decoded data correctly.</p>
</div>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">python sds-convert.py audio_wav -i Microphone.0.sds -o microphone.wav -y Microphone.sds.yml
</code></pre>
<h4 id="simple-csv">Simple CSV</h4>
<pre><code class="language-txt">usage: sds-convert.py simple_csv [-h] -i &lt;input_file&gt; [&lt;input_file&gt; ...] -o &lt;output_file&gt; [-y &lt;yaml_file&gt; [&lt;yaml_file&gt; ...]] [--normalize] [--start-tick &lt;start-tick&gt;] [--stop-tick &lt;stop-tick&gt;]

options:
  -h, --help                          show this help message and exit

required:
  -i &lt;input_file&gt; [&lt;input_file&gt; ...]  Input file
  -o &lt;output_file&gt;                    Output file

optional:
  -y &lt;yaml_file&gt; [&lt;yaml_file&gt; ...]    YAML sensor description file
  --normalize                         Normalize timestamps so they start with 0
  --start-tick &lt;start-tick&gt;           Exported data start tick (default: None)
  --stop-tick &lt;stop-tick&gt;             Exported data stop tick (default: None)
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The metadata and SDS data file pairs must be passed as arguments in the same order to decoded data correctly.</p>
</div>
<p><strong>Example:</strong></p>
<pre><code class="language-bash">python sds-convert.py simple_csv  -i Gyroscope.0.sds -o gyroscope_simple.csv -y Gyroscope.sds.yml --normalize --start-tick 0.2 --stop-tick 0.3
</code></pre>
<h4 id="qeexo-v2-csv">Qeexo V2 CSV</h4>
<pre><code class="language-txt">usage: sds-convert.py qeexo_v2_csv [-h] -i &lt;input_file&gt; [&lt;input_file&gt; ...] -o &lt;output_file&gt; [-y &lt;yaml_file&gt; [&lt;yaml_file&gt; ...]] [--normalize] [--start-tick &lt;start-tick&gt;] [--stop-tick &lt;stop-tick&gt;] [--label 'label'] [--interval &lt;interval&gt;] [--sds_index &lt;sds_index&gt;]

options:
  -h, --help                          show this help message and exit

required:
  -i &lt;input_file&gt; [&lt;input_file&gt; ...]  Input file
  -o &lt;output_file&gt;                    Output file

optional:
  -y &lt;yaml_file&gt; [&lt;yaml_file&gt; ...]    YAML sensor description file
  --normalize                         Normalize timestamps so they start with 0
  --start-tick &lt;start-tick&gt;           Exported data start tick (default: None)
  --stop-tick &lt;stop-tick&gt;             Exported data stop tick (default: None)
  --label 'label'                     Qeexo class label for sensor data (default: None)
  --interval &lt;interval&gt;               Qeexo timestamp interval in ms (default: 50)
  --sds_index &lt;sds_index&gt;             SDS file index to write (default: &lt;sensor&gt;.0.sds)
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The metadata and SDS data file pairs must be passed as arguments in the same order to decoded data correctly.</p>
</div>
<p><strong>Examples:</strong></p>
<p>Convert SDS data files to Qeexo V2 CSV files:</p>
<pre><code class="language-bash">python sds-convert.py qeexo_v2_csv -i Gyroscope.0.sds Accelerometer.0.sds -o sensor_fusion.csv -y Gyroscope.sds.yaml Accelerometer.sds.yaml --normalize --start-tick 200 --stop-tick 300
</code></pre>
<p>Convert Qeexo V2 CSV files to SDS data files:</p>
<pre><code class="language-bash">python sds-convert qeexo_v2_csv -i accelerometer_data.csv -o accelerometer.sds
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../examples/" class="btn btn-neutral float-left" title="Examples"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ARM-software/SDS-Framework" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../examples/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
